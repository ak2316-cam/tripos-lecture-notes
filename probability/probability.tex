%  \documentclass[DIV=12, a4]{scrartcl}
%\documentclass[12pt, a5]{scrartcl}

% \documentclass[a4paper]{report}
% \usepackage[
% % fancytheorems, 
% noindent, 
% %spacingfix, 
% %noheader
% ]{vanilla}


\documentclass[a4paper]{scrreprt}
\usepackage[
fancytheorems, 
noindent, 
% %spacingfix, 
% %noheader,
fancyproofs
]{adam} 

\usepackage{tikz}

% \usepackage{subfig}

\setcounter{chapter}{-1}

\title{Probability}
% \subtitle{Adam Kelly}
\author{Adam Kelly}
% \date{Michaelmas 2020}
\date{\today}

\begin{document}

\maketitle

\begin{abstract}
	
	% \vspace{2\baselineskip}
	% {\color{red} None of the notes here have been reviewed at all, and are just exactly what was taken down live in the lectures. I would turn around now and come back in a few days, when I have gone back, cleaned things up, fixed explanations and added some structure.}
	% \vspace{5\baselineskip}

	This set of notes is a work-in-progress account of the course `Probability', originally lectured by Dr Perla Sousi in Lent 2020 at Cambridge. These notes are not a transcription of the lectures, but they do roughly follow what was lectured (in content and in structure).

	These notes are my own view of what was taught, and should be somewhat of a superset of what was actually taught. I frequently provide different explanations, proofs, examples, and so on in areas where I feel they are helpful. Because of this, this work is likely to contain errors, which you may assume are my own. If you spot any or have any other feedback, I can be contacted at \href{mailto:ak2316@cam.ac.uk}{ak2316@cam.ac.uk}.


	% {\color{red} Notes written upto lecture 6.}
	% During the creation of this document, I consulted a number of other books and resources. All of these are listed in the bibliography. 

\end{abstract}

\tableofcontents

\clearpage
\chapter{Introduction}

Most of the phenomena in everyday lives involve randomness. What we try to do in probability is model this randomness in a mathematical way. It's likely that you have studied some probability before, but the difference in the treatment here is that we will try to be somewhat more rigerous.

We will define the notion of a probability space, where `our experiments take place'. Then we will discuss discrete and continuous random variables. 
In the discrete setting, we will find that there is no real subtleties, and we can be quite rigorous. In the continuous setting however we will have to take some things for granted (but rigour will return in the Part II course).

\begin{quote}
	\emph{``Probability theory has a right and a left hand. On the right is the rigorous foundational work using the tools of measure theory. The left hand `thinks probabilistically,' reduces problems to gambling situations, coin-tossing, motions of a physical particle.''}
\end{quote}

In this course, we will need both hands.


\chapter{Basic Concepts}

Probability is the mathematical formulation of randomness. So in order to study random phenomena in a rigorous way, we first need to set out a rigorous mathematical framework. 

\section{Probability Space}

The first notion that we will define is that of a \emph{probability space}.

\begin{definition}[$\sigma$-Algebra]
Suppose $\Omega$ is a set and $\FF$ is a collection of subsets of $\Omega$. We call $\FF$ a \vocab{$\sigma$-algebra} if the following properties are satisfied.
\begin{enumerate}[label=(\roman*)]
	\item $\Omega \in \FF$.
	\item If $A \in \FF$, then $A^c \in \FF$, the compliment of $A$.
	\item For any countable collection $A_1, A_2, \dots$ with $A_i \in \FF$ for all $i$, we must also have that $\bigcup_{i \geq 1} A_i \in \FF$.
\end{enumerate}
\end{definition}

\begin{definition}[Probability Measure]
	Suppose that $\FF$ is a $\sigma$-algebra on $\Omega$. Then a function $\PP : \FF \rightarrow [0, 1]$	is called a \vocab{probability measure} if the following are true.
	\begin{enumerate}[label=(\roman*)]
		\item $\PP(\Omega) = 1$.
		\item For any countable disjoint collection $A_1, A_2, \dots$ with $A_i \in \FF$ for all $i$, we have
		$$
		\PP\left(\bigcup_{n \geq 1} A_n\right) = \sum_{n \geq 1} \PP (A_n).
		$$
	\end{enumerate}
	We say that $\PP(A)$ is the \vocab{probability} of $A$.
\end{definition}

\begin{definition}[Probability Space]
	If $\Omega$ is a $\sigma$-algebra on $\Omega$ and $\PP$ is a probability measure, then $(\Omega, \FF, \PP)$ is a \vocab{probability space}.
\end{definition}

When the set $\Omega$ is countable, we take $\FF$ to be all subsets of $\Omega$.

\begin{definition}[Outcomes and Events]
	The elements of $\Omega$ are called \vocab{outcomes}, and the elements of $\FF$ are called \vocab{events}.
\end{definition}

Note that $\PP$ is defined on $\FF$, so it is defined on the \emph{events}, not the \emph{outcomes}. 

Let's look at some properties of the probability measure (which follow immediately from the definition).

\begin{proposition}[Properties of $\PP$]
	If $\PP$ is a probability measure then
	\begin{itemize}
		\item $\PP(A^c) = 1 - \PP(A)$
		\item $\PP(\emptyset) = 0$
		\item If $A \subset B$, then $\PP(A) \leq \PP(B)$
		\item $\PP(A \cup B) = \PP(A) + \PP(B) - \PP(A \cap B)$
	\end{itemize}
\end{proposition}
\begin{proof}[Proof Sketch] Check definitions.
\end{proof}

\begin{example}[Examples of Probability Spaces]
	Some examples of probability spaces are given below.
	\begin{itemize}
		\item \emph{Rolling a fair die}. Consider rolling a fair die. Then
		$
		\Omega = \{1, 2, 3, 4, 5, 6\}
		$, and $\FF$ is all subsets of $\Omega$.
		Then $\PP(\{w\}) = \frac{1}{6}$ for all $\omega \in \Omega$ and if $A \subseteq \Omega$, then $\PP(A) = \frac{|A|}{6}$.
		\item \emph{Equally likely outcomes}. Let $\Omega$ be a finite set, $\Omega = \{\omega_1, \omega_2, \dots, \omega_n \}$, and $\FF$ be all subsets of $\Omega$. Then define $\PP : \FF \rightarrow [0, 1]$ by $\PP(A) = \frac{|A|}{|\Omega|}$. In classical probability, this models picking a random element of $\Omega$. Note that $\PP(\{\omega_i\}) = \frac{1}{|\Omega|}$ for all $\omega_i \in \Omega$.
		\item \emph{Picking balls from a bag}. Suppose we have $n$ balls with $n$ labels from $\{1, \dots, n\}$ that are all indistinguishable by touch. Picking $k \leq n$ balls at random\footnote{That is, with all outcomes equally likely.} without replacement. Then we take $\Omega = \{A \subseteq \{1, 2, \dots, n\} \mid |A| = k \}$, and $\FF$ be all subsets of $\Omega$. Then $|\Omega| = \frac{n}{k}$, and for $\omega \in \Omega$, $\PP(\{\omega\}) = \frac{1}{|\Omega|}$.
		\item \emph{Deck of cards}. Take a well-shuffled deck of 52 cards. Then let $\Omega$ be the set of all permutations of the cards, and note $|\Omega| = 52!$. Then we have $\PP(\text{top 2 cards are aces}) = \frac{4 \cdot 3 \times 50!}{52!} = \frac{1}{221}$.
		\item \emph{Largest digit}. Consider a string of $n$ random digits from $0, \dots, 9$. Then $\Omega = \{0, 1, \dots, 9\}^n$, and $|\Omega| = 10^n$. Now define $A_k = \{\text{no digit exceeds }l\}$ and $B_k = \{\text{largest digit is }k\}$. Then $\PP(B_k) = \frac{|B_k|}{|\Omega|}$. Notice that $B_k = A_k \backslash A_{k - 1}$, and $|A_k| = (k + 1)^n$, so $|B_k| = (k + 1)^n - k^n$, thus $\PP(B_k) = \frac{(k + 1)^n - k^n}{10^n}$.
		\item \emph{Birthday Problem}. There are $n$ people. What is the probability that at least two of them share the same birthday? We can assume nobody is born on $29/02$, and that each birthday is equally likely. So $\Omega = \{1, \dots, 365\}^n$, and $\FF$ is all subsets of $\Omega$. As we assumed all outcomes are equally likely, we take $\PP(\{\omega\}) = \frac{1}{365^n}$ with $\omega \in \Omega$.
		Letting $A = \{\text{at least 2 people share a birthday}\}$, then $A^c = \{\text{all $n$ birthdays are different}\}$, and since $\PP(A) = 1 - \PP(A^c)$, it suffices to calculate $\PP(A^c)$. Now $\PP(A^c) = \frac{|A^c|}{|\Omega|} = \frac{365 \times 364 \times \cdots \times (365 - n + 1)}{365^n}$, and hence $\PP(A) = 1 - \frac{365 \times 364 \times \cdots \times (365 - n + 1)}{365^n}$. If $n = 23$, then this probability is approximately $0.507$.
\end{itemize}
\end{example}

\section{Combinatorial Analysis}

Suppose we have some finite set $\Omega$, and that $|\Omega| = n$. We want to partition $\Omega$ into $k$ disjoint subsets $\Omega_1, \Omega_2, \dots, \Omega_k$ with $|\Omega_i| = n_i$ and $\sum_{i = 1}^k n_i = n$. How many ways is there to do this?

If $M$ is the number of ways, then
$$
M = \binom{n}{n_1} \binom{n - n_1}{n_2} \cdots \binom{n - (n_1 + \cdots + n_{k - 1})}{n_k} = \frac{n!}{n_1! n_2 !\cdots n_k !}.
$$

\begin{definition}[Multinomial Coefficient]
	We define the \vocab{multinomial coefficient} $\binom{n}{n_1, \dots, n_k}$ to be the number of ways of partitioning a set with $n$ elements into $k$ subsets of size $n_1, n_2, \dots, n_k$. We have
	$$
	\binom{n}{n_1, \dots, n_k} = \frac{n!}{n_1! n_2 !\cdots n_k !}.
	$$
\end{definition}
	
Now let's think about the following question: How many strictly increasing and increasing functions are there between two sets?

If we have $f:\{1, \dots, k\} \rightarrow \{1, \dots, n\}$, we say it's \emph{strictly increasing} if whenever $x < y$, then $f(x) < f(y)$. We say that it's \emph{increasing} if $x < y$ implies $f(x) \leq f(y)$.

Any such function is uniquely determined by its range which is a subset of $\{1, \dots, n\}$ of size $k$. There are $\binom{n}{k}$ such subsets, and hence $\binom{n}{k}$ strictly increasing functions.

We define a bijection from $\{f : \{1, \dots, k \} \rightarrow \{1, \dots, n\} \mid f \text{ increasing}\}$ to $\{g : \{1, \dots, k \} \rightarrow \{1, \dots, n + k - 1\} \mid f \text{ strictly increasing}\}$. For each $f$, we define $g(i) = g(i) + i - 1$. Then $g$ is strictly increasing and takes values in $\{1, \dots, n + k - 1\}$. Then $g$ is strictly increasing and takes values in $\{1, \dots, n + k - 1\}$.

So the total number of increasing functions $f: \{1, \dots, k\} \rightarrow \{1, \dots, n\}$ is $\binom{n + k - 1}{k}$.

\end{document}
